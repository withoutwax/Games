{"version":3,"sources":["scripts/firestore.js","scripts/utils.js","click.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","db","firestore","displayHighScore","scoreList","i","length","name","data","substring","score","scoreBoard","document","querySelector","li","createElement","textContent","appendChild","player_name","num_clicks","addEventListener","scoreUpdate","highScoreUpdate","toggleSubmitButton","innerHTML","player_name_update","firstChild","removeChild","value","collection","add","then","console","log","catch","error","reset","orderBy","onSnapshot","snapshot","gotData","docs","errData","err","score_test","disabled"],"mappings":"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","file":"click.5cf16299.js","sourceRoot":"../src","sourcesContent":["firebase.initializeApp({\n    apiKey: \"AIzaSyDvZT4xc_gYVKmT7tB4WcyEXcxZtwLe0y4\",\n    authDomain: 'games-c5987.firebaseapp.com',\n    projectId: 'games-c5987'\n});\n\nexport const db = firebase.firestore();","export function displayHighScore(scoreList) {\n    let i = 0;\n    while (i <= 10 && i < scoreList.length) {\n        // console.log(i);\n        let name = scoreList[i].data().name;\n        // console.log(name, name.length);\n        if (name.length > 10) {\n            name = name.substring(0, 10);\n        }\n        let score = scoreList[i].data().score;\n        // console.log(score);\n\n        let scoreBoard = document.querySelector(\"#highScore\");\n\n        let li = document.createElement(\"li\",);\n        li.textContent =  name + \" : \" + score;\n\n        scoreBoard.appendChild(li);\n        i += 1;\n    }\n}","import { db } from \"./scripts/firestore\";\nimport { displayHighScore } from \"./scripts/utils\";                                \n\nlet player_name = \"Anonymous\";\nlet num_clicks = 0;\n\ndocument.querySelector(\"#click-button\").addEventListener(\"click\", scoreUpdate, false);\ndocument.querySelector(\"#highScoreUpdateButton\").addEventListener(\"click\", highScoreUpdate, false);\n\ntoggleSubmitButton();\n\n// UPDATE SCORE\nfunction scoreUpdate() {\n    num_clicks += 1;\n    let score = document.querySelector(\"#score\");\n    score.innerHTML = num_clicks;\n    toggleSubmitButton();\n}\n\nfunction highScoreUpdate() {\n    let player_name_update = document.querySelector(\"#playerName\");\n    let scoreBoard = document.querySelector(\"#highScore\");\n    while (scoreBoard.firstChild) {\n        scoreBoard.removeChild(scoreBoard.firstChild);\n    }\n\n    // Checks if there is a player name exist\n    // console.log(player_name_update.value);\n    if (player_name_update.value != \"\") {\n        player_name = player_name_update.value;\n    }\n\n    // Update the Score!\n    // db.collection('click').push({\n    //     name: player_name,\n    //     score: num_clicks\n    // });\n\n    db.collection(\"click\").add({\n        name: player_name,\n        score: num_clicks\n    })\n    .then(function() {\n        console.log(\"Score Registered!\");\n    })\n    .catch(function(error) {\n        console.error(\"Error writing document: \", error);\n    });\n\n    reset();\n}\n\n// DISPLAY HIGHSCORE\ndb.collection(\"click\").orderBy(\"score\", \"desc\").onSnapshot(snapshot => {\n    gotData(snapshot.docs);\n});\n\nfunction gotData(data) {\n    // Resetting the Screen\n    let scoreBoard = document.querySelector(\"#highScore\");\n    while (scoreBoard.firstChild) {\n        scoreBoard.removeChild(scoreBoard.firstChild);\n    }\n\n    // OUTPUT HIGHSCORE =================\n    displayHighScore(data);\n}\n\nfunction errData(err) {\n    console.log('Error!');\n    console.log(err);\n}\n\nfunction reset() {\n    num_clicks = 0;\n    player_name = \"Anonymous\";\n    let score = document.querySelector(\"#score\");\n    document.querySelector('#playerName').value = \"\";\n    score.innerHTML = 0;\n\n    toggleSubmitButton();\n}\n\nfunction toggleSubmitButton() {\n    let score_test = document.querySelector(\"#score\");\n    if (score_test.innerHTML == 0) {\n        document.querySelector(\"#highScoreUpdateButton\").disabled = true;\n    } else {\n        document.querySelector(\"#highScoreUpdateButton\").disabled = false;\n    }\n}\n"]}